<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="Web site created using create-react-app"/>
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    <title>React App</title>
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>



<!-- 

PRACTISE


import React, { useContext, useEffect } from 'react';
const Sample = React.createContext();

const API="https://hn.algolia.com/api/v1/search?query="

export const SampleProvider=({children})=>{

    const fetchUrl = async (URL) => {

        const res = await fetch(URL);
        const data = await res.json();
        console.log(data);
    }

    useEffect(()=>{
        fetchUrl(API)
    },[])
    
    
    return(
        <Sample.Provider>
            {children}
        </Sample.Provider>
    )
}

function UseMe(){ return useContext(Sample) }
export default UseMe; -->














<!-- COMPONENTS - 
*******************************************************PAGINATION


import UseMe from "../context/context";

function Pagination(){

    const {page, nbPages, getPrevPage, getNextPage} = UseMe()

    return(
        <>
            <div className="pagination_btn" style={{textAlign:"center"}}>
                <button onClick= {() => getPrevPage()}>PREV</button>
                <p>{page+1} of {nbPages}</p>
                <button onClick= {() => getNextPage()}>NEXT</button>
            </div>
        </>
    )
}

export default Pagination;



********************************************************SEARCH

import UseMe from "../context/context";

function Search(){
    
    const {query, searchPost} = UseMe();

    return(
        <>
            <div style={{textAlign:"center"}}>
                <input value={query} onChange={(e) => {searchPost(e.target.value)}}/>
            </div>
        </>
    )
}

export default Search;






******************************************************STORIES

import UseMe from "../context/context";

function Stories(){

    const {hits, isLoading, onRemove} = UseMe()

    if(isLoading){
        return(
            <>
                <h1>Loading...</h1>
            </>
        )
    }

    return(
        <>
            <div className="stories-div" style={{paddingBottom:"5%"}}>
                {hits.map((x)=>{

                    const {title, author, objectID, url, num_comments} = x

                    return(
                        <>
                            <div className="card">
                                <h2>{title}</h2>
                                <p>By <span>{author}</span> |<span> {num_comments} </span>comments</p>
                                <div className="card-button">
                                    <a href={url} target=" ">Read more</a>
                                    <a onClick={()=>onRemove(objectID)} style={{cursor:"pointer"}}>Remove</a>
                                </div>
                            </div>
                        </>
                    )
                })}
            </div>
        </>
    )
}

export default Stories;



******************************************************context

import React, { useContext, useEffect, useReducer, useState } from 'react';
import reducer from '../reducer/reducer';
const Sample = React.createContext();

const API="https://hn.algolia.com/api/v1/search?query="

export const SampleProvider=({children})=>{

    function onRemove(objID){
        dispatch({
            type:"REMOVE_SECTION",
            payload:objID
        })
    }

    function searchPost(x){
        dispatch({
            type:"SEARCH_POST",
            payload:x
        })
    }

    function getPrevPage(){
        dispatch({
            type:"PREV_PAGE"
        })
    }

    function getNextPage(){
        dispatch({
            type:"NEXT_PAGE"
        })
    }

    const initialState={
        isLoading:true,
        query:"",
        hits:[],
        page:0,
        nbPages:0
    }

    const [items, dispatch] = useReducer(reducer, initialState)

    const fetchUrl = async (URL) => {

        const res = await fetch(URL);
        const data = await res.json();
        console.log(data);

        dispatch({
            type:"ADD_TO_ITEMS",
            payload:{
                x: data.hits,
                y: data.nbPages
            }
        })
    }

    useEffect(()=>{
        fetchUrl(`${API}${items.query}&page=${items.page}`)
    },[items.query, items.page])
    
    
    return(
        <Sample.Provider value={{...items, onRemove, searchPost, getPrevPage, getNextPage}}>
            {children}
        </Sample.Provider>
    )
}

function UseMe(){ return useContext(Sample) }
export default UseMe;





********************************************************REDUCER 

function Reducer(state, action){
    switch(action.type){
        case "ADD_TO_ITEMS": return{
            ...state,
            isLoading: false,
            hits : action.payload.x,
            nbPages : action.payload.y
        }
        case "REMOVE_SECTION": return{
            ...state,
            hits : state.hits.filter((curPost)=>
                curPost.objectID != action.payload
            )
        }
        case "SEARCH_POST" : return{
            ...state,
            query : action.payload
        }
        case "NEXT_PAGE" : 
        
        let pageNumInc = state.page + 1
        if(pageNumInc >= state.nbPages){
            pageNumInc = 0
        }

        return{
            ...state,
            page : pageNumInc
        }
        case "PREV_PAGE" : 
        
        let pageNum =  state.page
        if(pageNum<=0){
            pageNum = 0
        }else{
            pageNum = pageNum-1
        }

        return{
            ...state,
            page : pageNum
        }
    }
    return state;
}

export default Reducer; -->